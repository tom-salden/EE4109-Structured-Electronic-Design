Version 4
SHEET 1 3968 1444
WIRE 1536 -768 1472 -768
WIRE 1696 -768 1616 -768
WIRE 1472 -624 1472 -768
WIRE 1472 -624 880 -624
WIRE 1536 -624 1472 -624
WIRE 1696 -624 1696 -768
WIRE 1696 -624 1600 -624
WIRE 3248 -624 1696 -624
WIRE 1472 -528 944 -528
WIRE 1520 -528 1472 -528
WIRE 1792 -528 1520 -528
WIRE 1856 -528 1792 -528
WIRE 2032 -528 1856 -528
WIRE 2096 -528 2032 -528
WIRE 2256 -528 2096 -528
WIRE 2320 -528 2256 -528
WIRE 2800 -528 2320 -528
WIRE 2880 -528 2800 -528
WIRE 3040 -528 2880 -528
WIRE 3488 -320 3488 -352
WIRE 3040 -288 3040 -528
WIRE 1520 -272 1520 -528
WIRE 1792 -272 1792 -528
WIRE 1472 -224 1472 -528
WIRE 1520 -224 1472 -224
WIRE 1856 -224 1856 -528
WIRE 1856 -224 1792 -224
WIRE 3488 -208 3488 -240
WIRE 1648 -192 1568 -192
WIRE 1696 -192 1648 -192
WIRE 1744 -192 1696 -192
WIRE 2032 -192 2032 -528
WIRE 2256 -192 2256 -528
WIRE 2800 -192 2800 -528
WIRE 3040 -160 3040 -208
WIRE 1520 -144 1520 -176
WIRE 1648 -144 1648 -192
WIRE 1648 -144 1520 -144
WIRE 2096 -144 2096 -528
WIRE 2096 -144 2032 -144
WIRE 2320 -144 2320 -528
WIRE 2320 -144 2256 -144
WIRE 2880 -144 2880 -528
WIRE 2880 -144 2800 -144
WIRE 1520 -128 1520 -144
WIRE 1696 -128 1696 -192
WIRE 1984 -112 1936 -112
WIRE 2208 -112 2160 -112
WIRE 2752 -112 2544 -112
WIRE 1936 -64 1936 -112
WIRE 2032 -64 2032 -96
WIRE 2032 -64 1936 -64
WIRE 2160 -64 2160 -112
WIRE 2160 -64 2032 -64
WIRE 2032 -48 2032 -64
WIRE 1520 -32 1520 -48
WIRE 1696 -32 1696 -64
WIRE 2256 -32 2256 -96
WIRE 2384 -32 2256 -32
WIRE 2512 -32 2384 -32
WIRE 2544 -32 2544 -112
WIRE 2544 -32 2512 -32
WIRE 512 32 368 32
WIRE 624 32 576 32
WIRE 880 32 880 -624
WIRE 880 32 704 32
WIRE 2384 32 2384 -32
WIRE 2800 32 2800 -96
WIRE 3248 32 3248 -624
WIRE 3248 32 2800 32
WIRE 3312 32 3248 32
WIRE 3456 32 3392 32
WIRE 3616 32 3536 32
WIRE 3776 32 3680 32
WIRE 368 48 368 32
WIRE 2512 48 2512 -32
WIRE 320 64 144 64
WIRE 3776 80 3776 32
WIRE 144 96 144 64
WIRE 1136 96 1040 96
WIRE 1792 96 1792 -176
WIRE 1792 96 1392 96
WIRE 2256 96 1792 96
WIRE 320 112 256 112
WIRE 1040 128 1040 96
WIRE 3776 144 3776 80
WIRE 2032 192 2032 32
WIRE 2032 192 1936 192
WIRE 2160 192 2032 192
WIRE 2256 192 2256 96
WIRE 2384 192 2384 112
WIRE 2384 192 2256 192
WIRE 2512 192 2512 112
WIRE 2512 192 2384 192
WIRE 2544 192 2512 192
WIRE 2800 192 2800 32
WIRE 1040 240 1040 208
WIRE 2080 240 2032 240
WIRE 2304 240 2256 240
WIRE 2912 240 2800 240
WIRE 144 272 144 256
WIRE 208 272 144 272
WIRE 256 272 256 112
WIRE 256 272 208 272
WIRE 368 272 368 128
WIRE 368 272 256 272
WIRE 1936 272 1936 192
WIRE 1984 272 1936 272
WIRE 2160 272 2160 192
WIRE 2208 272 2160 272
WIRE 2544 272 2544 192
WIRE 2752 272 2544 272
WIRE 1136 288 1136 96
WIRE 1392 288 1392 96
WIRE 208 304 208 272
WIRE 2032 304 2032 288
WIRE 2144 304 2032 304
WIRE 2256 304 2256 288
WIRE 2256 304 2144 304
WIRE 3776 304 3776 224
WIRE 1264 336 1136 336
WIRE 1392 336 1264 336
WIRE 2144 336 2144 304
WIRE 880 368 880 32
WIRE 1088 368 880 368
WIRE 1552 368 1440 368
WIRE 2080 400 2080 240
WIRE 2304 400 2304 240
WIRE 2800 400 2800 288
WIRE 1136 432 1136 384
WIRE 1280 432 1136 432
WIRE 1392 432 1392 384
WIRE 1392 432 1280 432
WIRE 1552 480 1552 368
WIRE 944 560 944 -528
WIRE 1552 624 1552 560
WIRE 944 752 944 640
WIRE 1088 752 944 752
WIRE 944 768 944 752
WIRE 1280 768 1280 432
WIRE 944 816 768 816
WIRE 1392 816 1280 816
WIRE 1088 848 1088 752
WIRE 1088 848 992 848
WIRE 1120 848 1088 848
WIRE 1232 848 1120 848
WIRE 768 880 768 816
WIRE 1392 880 1392 816
WIRE 1120 944 1120 848
WIRE 944 1056 944 864
WIRE 1120 1056 1120 1008
WIRE 1280 1056 1280 864
FLAG 208 304 0
FLAG 1040 240 0
FLAG 1552 624 0
FLAG 2800 400 0
FLAG 3040 -160 0
FLAG 3776 304 0
FLAG 2912 240 substrateGround
FLAG 1264 336 substrateGround
FLAG 3488 -352 substrateGround
FLAG 3488 -208 0
FLAG 3776 80 Out
FLAG 2144 336 0
FLAG 2304 400 substrateGround
FLAG 2080 400 substrateGround
FLAG 944 1056 0
FLAG 1280 1056 0
FLAG 1392 880 substrateGround
FLAG 768 880 substrateGround
FLAG 1520 -32 0
FLAG 1120 1056 0
FLAG 1696 -32 0
DATAFLAG 880 208 ""
DATAFLAG 1424 96 ""
DATAFLAG 3040 32 ""
DATAFLAG 3776 32 ""
DATAFLAG 1136 48 "Id(M1)"
DATAFLAG 1136 96 ""
DATAFLAG 1424 48 "Id(M2)"
DATAFLAG 1280 432 ""
DATAFLAG 2720 -240 "Id(M4)"
DATAFLAG 2720 352 "Id(M3)"
DATAFLAG 2672 272 ""
DATAFLAG 2688 -112 ""
DATAFLAG 864 688 "Id(M1)"
DATAFLAG 1360 688 "Id(M6)"
DATAFLAG 1600 -352 "Id(M5)"
DATAFLAG 1712 -272 "Id(M8)"
SYMBOL voltage 144 80 R0
WINDOW 3 -305 92 Left 2
WINDOW 123 -305 120 Left 2
WINDOW 39 0 0 Left 0
SYMATTR Value SINE(0 {V_in} 10meg 0 0 0)
SYMATTR Value2 AC 1 0
SYMATTR InstName V1
SYMBOL e 368 32 R0
SYMATTR InstName E1
SYMATTR Value {L_A}
SYMBOL cap 576 16 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value {C_A}
SYMBOL res 720 16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value {Rphz}
SYMBOL voltage 1040 112 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 595m
SYMBOL voltage 1552 464 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value 900m
SYMBOL nmos4 1088 288 R0
SYMATTR InstName M1
SYMATTR Value C18nmos
SYMATTR Value2 l={L_DP} w={W_DP}
SYMBOL nmos4 1440 288 M0
SYMATTR InstName M2
SYMATTR Value C18nmos
SYMATTR Value2 l={L_DP} w={W_DP}
SYMBOL nmos4 2752 192 R0
SYMATTR InstName M3
SYMATTR Value C18nmos
SYMATTR Value2 l={L_N} w={W_N}
SYMBOL pmos4 2752 -192 R0
SYMATTR InstName M4
SYMATTR Value C18pmos
SYMATTR Value2 l={L_P} w={W_P}
SYMBOL voltage 3040 -304 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V6
SYMATTR Value 1.8
SYMBOL cap 1600 -640 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value {C_F}
SYMBOL res 1632 -784 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 500Meg
SYMBOL res 3408 16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value {R_L}
SYMBOL cap 3680 16 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C3
SYMATTR Value 10u
SYMBOL res 3760 128 R0
SYMATTR InstName R4
SYMATTR Value {R_L}
SYMBOL voltage 3488 -224 R180
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V7
SYMATTR Value 20m
SYMBOL ind 3552 16 R90
WINDOW 0 5 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName L1
SYMATTR Value {Lphz}
SYMBOL voltage 144 160 R0
WINDOW 3 -305 92 Left 2
WINDOW 123 -305 120 Left 2
WINDOW 39 0 0 Left 0
SYMATTR Value SINE(0 {V_in} 12.5meg 0 0 0)
SYMATTR Value2 AC 0 0
SYMATTR InstName V8
SYMBOL nmos4 1984 192 R0
SYMATTR InstName M9
SYMATTR Value C18nmos
SYMATTR Value2 l={LN_vol} w={WN_vol} m=6
SYMBOL pmos4 1984 -192 R0
SYMATTR InstName M10
SYMATTR Value C18pmos
SYMATTR Value2 l={LP_vol} w={WP_vol} m=6
SYMBOL res 2016 -64 R0
SYMATTR InstName R8
SYMATTR Value {R_vol}
SYMBOL cap 2496 48 R0
SYMATTR InstName C4
SYMATTR Value 5p
SYMBOL nmos4 2208 192 R0
SYMATTR InstName M11
SYMATTR Value C18nmos
SYMATTR Value2 l={LN_vol} w={WN_vol} m=5
SYMBOL pmos4 2208 -192 R0
SYMATTR InstName M12
SYMATTR Value C18pmos
SYMATTR Value2 l={LP_vol} w={WP_vol} m=5
SYMBOL res 2368 16 R0
SYMATTR InstName R5
SYMATTR Value {R_vol}
SYMBOL nmos4 992 768 M0
SYMATTR InstName M5
SYMATTR Value C18nmos
SYMATTR Value2 l={L1_cur1} w={W1_cur1} m={M1_cur1}
SYMBOL res 928 544 R0
SYMATTR InstName R7
SYMATTR Value {R_cur1}
SYMBOL nmos4 1232 768 R0
SYMATTR InstName M6
SYMATTR Value C18nmos
SYMATTR Value2 l={L2_cur1} w={W2_cur1} m={M2_cur1}
SYMBOL res 1504 -144 R0
SYMATTR InstName R10
SYMATTR Value {R_cur2}
SYMBOL pmos4 1568 -272 M0
SYMATTR InstName M7
SYMATTR Value C18pmos
SYMATTR Value2 l={L1_cur2} w={W1_cur2} m={M1_cur2}
SYMBOL pmos4 1744 -272 R0
SYMATTR InstName M8
SYMATTR Value C18pmos
SYMATTR Value2 l={L2_cur2} w={W2_cur2} m={M2_cur2}
SYMBOL cap 1104 944 R0
SYMATTR InstName C5
SYMATTR Value 100n
SYMBOL cap 1680 -128 R0
SYMATTR InstName C6
SYMATTR Value 100n
TEXT 2904 416 Left 2 !.param L_A=0.5 C_A=10e-12 C_F=5e-12 R_L=50
TEXT 2904 440 Left 2 !.param Rphz=13.81 Lphz=0.4u
TEXT 2904 464 Left 2 !.param L_DP=250n W_DP=800u ID_DP=3m
TEXT 2904 488 Left 2 !.param L_N=180n L_P=180n W_N=100u W_P=350u
TEXT 2896 656 Left 2 !.op
TEXT 2896 808 Left 2 !.lib 'E:\\Universiteit\\Master\\7 Q2 - 2021\\EE4109-Structured-Electronic-Design\\cir\\CMOS18TT.lib'
TEXT 2896 784 Left 2 !.lib 'C:\\Program Files\\LTC\\LTspiceXVII\\lib\\cmp\\log018.l' TT
TEXT 2904 392 Left 2 !.param V_in=0.16
TEXT 2896 672 Left 2 !;tran 0 1600n 0 1n
TEXT 2896 688 Left 2 !;ac dec 20 1k 10G
TEXT 2896 704 Left 2 !.noise V(out) V1 dec 20 10k 30Meg
TEXT 2896 568 Left 2 !.param LN_vol=180n LP_vol=180n WN_vol=10u WP_vol=35u R_vol=3k
TEXT 2896 592 Left 2 !.param L1_cur1=1u W1_cur1=350u L2_cur1=1u W2_cur1=347u M1_cur1=2 M2_cur1=12 R_cur1=1020
TEXT 968 1128 Left 2 ;Sinking current source
TEXT 1528 0 Left 2 ;Sourcing current source
TEXT 2096 608 Left 2 ;Floating voltage source
TEXT 2896 616 Left 2 !.param L1_cur2=1u W1_cur2=40u L2_cur2=1u W2_cur2=52u M1_cur2=1 M2_cur2=2 R_cur2=100
RECTANGLE Normal 1472 1152 720 496 2
RECTANGLE Normal 1904 16 1392 -560 2
RECTANGLE Normal 2592 624 1904 -560 2
